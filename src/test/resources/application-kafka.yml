kafka-configuration:
  producers:
    "[default]":
      props:
        "[bootstrap.servers]": ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
        "[batch.size]": 16384
        "[buffer.memory]": 33554432
        "[key.serializer]": org.apache.kafka.common.serialization.StringSerializer
        "[value.serializer]": org.springframework.kafka.support.serializer.JsonSerializer
        "[linger.ms]": 1
        "[acks]": all
        "[default.api.timeout.ms]": 20000
        "[request.timeout.ms]": 20000
        "[auto.offset.reset]": earliest

  consumers:
    "[case-study-consumer]":
      topic: migros.case.study.courier.topic
      retry-topic: migros.case.study.courier.topic.retry
      error-topic: migros.case.study.courier.topic.error
      data-class: com.migros.casestudy.domain.event.CourierEvent
      concurrency: 1
      retry-count: 1
      sync-commit: true
      sync-commit-timeout-second: 5
      backoffIntervalMillis: 1000 #wait time for retry
      multiplier: 2
      missingTopicAlertEnable: false
      isExponentialRetry: true
      props:
        "[group.id]": migros.case.study.courier.group
        "[retry-group.id]": migros.case.study.courier.retry.group
        "[bootstrap.servers]": ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
        "[max.poll.records]": 500 #for batch listener
        "[max.poll.interval.ms]": 300000 #poll time
        "[session.timeout.ms]": 10000
        "[heartbeat.interval.ms]": 3000
        "[enable.auto.commit]": true
        "[auto.offset.reset]": earliest
        "[fetch.max.bytes]": 52428800
        "[fetch.max.wait.ms]": 500
        "[default.api.timeout.ms]": 20000
        "[request.timeout.ms]": 20000
  topics:
    commission-invoice-create-topic: migros.case.study.courier.topic